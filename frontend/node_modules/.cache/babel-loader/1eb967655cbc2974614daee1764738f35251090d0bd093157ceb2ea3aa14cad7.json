{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\projects (dont delete)\\\\BeatIt-main\\\\frontend\\\\src\\\\Components\\\\Beat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Beat = props => {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [editBeat, setEditbeat] = useState(false);\n  const [newcontent, setNewcontent] = useState(props.content);\n  const [profilepath, setProfilepath] = useState(\"\");\n\n  // console.log(props);\n  useEffect(() => {\n    axios.get(\"http://localhost:3001/getuser\").then(res => {\n      if (res.data.status === \"pass\") {\n        setUsername(res.data.name);\n      } else {\n        console.log(res.data.message);\n      }\n    });\n    axios.post(\"http://localhost:3001/getprofile\", {\n      username: props.name\n    }).then(res => {\n      if (res.data.status === \"pass\") {\n        setProfilepath(res.data.profile);\n      } else {\n        console.log(\"failed to fetch profile/profile not found\");\n      }\n    });\n  }, []);\n  function handleDeletebeat() {\n    const beat_id = props.id;\n    if (username) {\n      axios.delete(`http://localhost:3001/deletebeat/${beat_id}`).then(res => {\n        if (res.data.status === \"pass\") {\n          console.log(\"delete success\");\n        } else {\n          console.log(res.data.message);\n        }\n      });\n      props.onDeletebeat(beat_id);\n    }\n  }\n  function showUpdatebox() {\n    setEditbeat(true);\n  }\n  function handleUpdatebeat() {\n    if (username) {\n      axios.put(`http://localhost:3001/updatebeat`, {\n        content: newcontent,\n        id: props.id\n      }).then(res => {\n        if (res.data.status === \"pass\") {\n          // console.log(\"beat updated\");\n          setEditbeat(false);\n        } else {\n          console.log(res.data.message);\n        }\n      });\n    }\n  }\n  function handleNavProfile() {\n    // console.log(\"click\");\n    navigate(`/${props.name}`);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"beat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"beat-head\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"beat-profile-pic\",\n        children: profilepath ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:3001/images/` + profilepath,\n          alt: \"profile pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Windows_10_Default_Profile_Picture.svg/2048px-Windows_10_Default_Profile_Picture.svg.png\",\n          alt: \"profile pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"beat-profile-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name\",\n          onClick: handleNavProfile,\n          children: [\"@\", props.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info\",\n          children: [\"posted on: \", props.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), editBeat ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"beat-body\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setNewcontent(e.target.value),\n        placeholder: \"write updated beat !!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"beat-body\",\n      children: newcontent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"beat-foot\",\n      children: [props.likes, \" \\u2764\\uFE0F\", username === props.name && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"update-delete-beat\",\n          children: editBeat ? /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: handleUpdatebeat,\n            children: \"\\u2705save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: showUpdatebox,\n              children: \"\\u270D\\uD83C\\uDFFBupdate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: handleDeletebeat,\n              children: \"\\uD83D\\uDDD1\\uFE0Fdelete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(Beat, \"aoRRBdsz2bBKNWF/QOj9EiOhsx0=\", false, function () {\n  return [useNavigate];\n});\n_c = Beat;\nexport default Beat;\nvar _c;\n$RefreshReg$(_c, \"Beat\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Beat","props","_s","navigate","username","setUsername","editBeat","setEditbeat","newcontent","setNewcontent","content","profilepath","setProfilepath","get","then","res","data","status","name","console","log","message","post","profile","handleDeletebeat","beat_id","id","delete","onDeletebeat","showUpdatebox","handleUpdatebeat","put","handleNavProfile","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","date","onChange","e","target","value","placeholder","likes","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/projects (dont delete)/BeatIt-main/frontend/src/Components/Beat.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Beat = (props) => {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [editBeat, setEditbeat] = useState(false);\n  const [newcontent, setNewcontent] = useState(props.content);\n  const [profilepath, setProfilepath] = useState(\"\");\n\n  // console.log(props);\n  useEffect(() => {\n    axios.get(\"http://localhost:3001/getuser\").then((res) => {\n      if (res.data.status === \"pass\") {\n        setUsername(res.data.name);\n      } else {\n        console.log(res.data.message);\n      }\n    });\n\n    axios\n      .post(\"http://localhost:3001/getprofile\", {\n        username: props.name,\n      })\n      .then((res) => {\n        if (res.data.status === \"pass\") {\n          setProfilepath(res.data.profile);\n        } else {\n          console.log(\"failed to fetch profile/profile not found\");\n        }\n      });\n  }, []);\n\n  function handleDeletebeat() {\n    const beat_id = props.id;\n    if (username) {\n      axios\n        .delete(`http://localhost:3001/deletebeat/${beat_id}`)\n        .then((res) => {\n          if (res.data.status === \"pass\") {\n            console.log(\"delete success\");\n          } else {\n            console.log(res.data.message);\n          }\n        });\n      props.onDeletebeat(beat_id);\n    }\n  }\n\n  function showUpdatebox() {\n    setEditbeat(true);\n  }\n\n  function handleUpdatebeat() {\n    if (username) {\n      axios\n        .put(`http://localhost:3001/updatebeat`, {\n          content: newcontent,\n          id: props.id,\n        })\n        .then((res) => {\n          if (res.data.status === \"pass\") {\n            // console.log(\"beat updated\");\n            setEditbeat(false);\n          } else {\n            console.log(res.data.message);\n          }\n        });\n    }\n  }\n\n  function handleNavProfile() {\n    // console.log(\"click\");\n    navigate(`/${props.name}`);\n  }\n  return (\n    <div className=\"beat\">\n      <div className=\"beat-head\">\n        <div className=\"beat-profile-pic\">\n          {profilepath ? (\n            <img\n              src={`http://localhost:3001/images/` + profilepath}\n              alt=\"profile pic\"\n            ></img>\n          ) : (\n            <img\n              src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Windows_10_Default_Profile_Picture.svg/2048px-Windows_10_Default_Profile_Picture.svg.png\"\n              alt=\"profile pic\"\n            ></img>\n          )}\n        </div>\n        <div className=\"beat-profile-info\">\n          <div className=\"name\" onClick={handleNavProfile}>\n            @{props.name}\n          </div>\n          <div className=\"info\">posted on: {props.date}</div>\n        </div>\n      </div>\n      {editBeat ? (\n        <div className=\"beat-body\">\n          <input\n            onChange={(e) => setNewcontent(e.target.value)}\n            placeholder=\"write updated beat !!\"\n          ></input>\n        </div>\n      ) : (\n        <div className=\"beat-body\">{newcontent}</div>\n      )}\n      <div className=\"beat-foot\">\n        {props.likes} ❤️\n        {username === props.name && (\n          <>\n            <div className=\"update-delete-beat\">\n              {editBeat ? (\n                <div onClick={handleUpdatebeat}>✅save</div>\n              ) : (\n                <>\n                  <div onClick={showUpdatebox}>✍🏻update</div>\n                  <div onClick={handleDeletebeat}>🗑️delete</div>\n                </>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Beat;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}